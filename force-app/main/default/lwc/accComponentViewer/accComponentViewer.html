<template>
    <lightning-card title="ACC Components Viewer" icon-name="standard:related_list">
        <div class="slds-grid slds-wrap slds-p-around_medium">
            <!-- Row 1 -->
            <div class="slds-col slds-size_1-of-2 slds-p-around_small">
                <c-custom-multi-lookup
                        label-name="Releases"
                        object-api-name="copado__Release__c"
                        field-api-names="Id,Name"
                        filter-field-api-name="Name"
                        icon-name="standard:approval"
                        onretrieve={handleFilterSelection}
                        onremove={handleFilterSelection}>
                </c-custom-multi-lookup>
            </div>
            <div class="slds-col slds-size_1-of-2 slds-p-around_small">
                <c-custom-multi-lookup
                        label-name="Epics"
                        object-api-name="copado__Epic__c"
                        field-api-names="Id,Name"
                        filter-field-api-name="Name"
                        icon-name="standard:all"
                        onretrieve={handleFilterSelection}
                        onremove={handleFilterSelection}>
                </c-custom-multi-lookup>
            </div>

            <!-- Row 2 -->
            <div class="slds-col slds-size_1-of-2 slds-p-around_small">
                <c-custom-multi-lookup
                        label-name="User Stories"
                        object-api-name="copado__User_Story__c"
                        field-api-names="Id,Name"
                        filter-field-api-name="Name"
                        icon-name="standard:log_a_call"
                        onretrieve={handleFilterSelection}
                        onremove={handleFilterSelection}>
                </c-custom-multi-lookup>
            </div>
            <div class="slds-col slds-size_1-of-2 slds-p-around_small">
                <c-custom-multi-lookup
                        label-name="Components"
                        object-api-name="copado__User_Story_Metadata__c"
                        field-api-names="Id,Name"
                        filter-field-api-name="Name"
                        icon-name="standard:custom"
                        onretrieve={handleFilterSelection}
                        onremove={handleFilterSelection}>
                </c-custom-multi-lookup>
            </div>

            <!-- Row 3 -->
            <div class="slds-col slds-size_1-of-2 slds-p-around_small">
                <c-custom-multi-lookup
                        label-name="Developers"
                        object-api-name="User"
                        field-api-names="Id,Name"
                        filter-field-api-name="Name"
                        icon-name="standard:user"
                        onretrieve={handleFilterSelection}
                        onremove={handleFilterSelection}>
                </c-custom-multi-lookup>
            </div>
            <div class="slds-col slds-size_1-of-2 slds-p-around_small">
                <c-custom-multi-lookup
                        label-name="Teams"
                        object-api-name="copado__Team__c"
                        field-api-names="Id,Name"
                        filter-field-api-name="Name"
                        icon-name="standard:team_member"
                        onretrieve={handleFilterSelection}
                        onremove={handleFilterSelection}>
                </c-custom-multi-lookup>
            </div>

            <!-- Row 4 -->
            <div class="slds-col slds-size_1-of-2 slds-p-around_small">
                <c-custom-multi-lookup
                        label-name="Environments"
                        object-api-name="copado__Environment__c"
                        field-api-names="Id,Name"
                        filter-field-api-name="Name"
                        icon-name="standard:location"
                        onretrieve={handleFilterSelection}
                        onremove={handleFilterSelection}>
                </c-custom-multi-lookup>
            </div>
        </div>

        <!-- Search Button -->
        <div class="slds-p-around_medium slds-text-align_center">
            <lightning-button label="Search" variant="brand" onclick={handleSearch}></lightning-button>
        </div>

        <!-- Results Tabs -->
        <template if:true={components.length}>
            <lightning-tabset>
                <lightning-tab label="Components">
                    <lightning-datatable
                            key-field="id"
                            data={components}
                            columns={componentColumns}>
                    </lightning-datatable>
                </lightning-tab>
                <lightning-tab label="Azure Branches">
                    <lightning-datatable
                            key-field="id"
                            data={azureBranches}
                            columns={azureBranchColumns}>
                    </lightning-datatable>
                </lightning-tab>
            </lightning-tabset>
        </template>
    </lightning-card>
</template>
